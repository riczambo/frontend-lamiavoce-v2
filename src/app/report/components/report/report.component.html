<div class="report-list" [@tuiFadeIn]>
  <p class="page-title">Lista segnalazioni</p>
  <form
  [formGroup]="filterForm"
  (ngSubmit)="onFilterChange()"
  >
    <div tuiGroup class="group">
        <div>
          <tui-multi-select
            formControlName="selectCategorie"
            tuiHintContent="Seleziona categorie da filtrare"
            [editable]="false"
            [rows]="1"
            [style.border-radius]="'inherit'"
            [tuiTextfieldLabelOutside]="true"
            >Categorie<tui-data-list-wrapper
                        *tuiDataList
                        tuiMultiSelectGroup
                        [items]="reportService.categories"/>
          </tui-multi-select>
        </div>
        <div>
          <tui-multi-select
            formControlName="selectZone"
            tuiHintContent="Seleziona zone da filtrare"
            [editable]="false"
            [rows]="1"
            [style.border-radius]="'inherit'"
            [tuiTextfieldLabelOutside]="true"
            >Zone<tui-data-list-wrapper
                    *tuiDataList
                    tuiMultiSelectGroup
                    [items]="reportService.zones"/>
            </tui-multi-select>
        </div>
    </div>
  </form>

  <div *ngFor="let report of reports" tuiCardLarge tuiAppearance="floating" class="report-card" [@tuiDropdownAnimation]>
    <button class="flag-button" (click)="flagContent(report)">
      <tui-icon icon="@tui.flag" size="s"></tui-icon>
    </button>
    <span tuiTitle class="fade report-title">
      {{report.title}}
    </span>
    <section class="report-description">{{report.description}}</section>
    <p><strong>Categoria:</strong> {{ report.category }}</p>
    <p><strong>Zona:</strong> {{ report.zone }}</p>
  </div>
  
  <div *ngIf="reports.length === 0">
    <tui-block-status>
      <tui-icon icon="@tui.square-x" size="l"></tui-icon>
      <h4>Nessuna segnalazione trovata</h4>
    </tui-block-status>
  </div>
  
</div>

<div 
    tuiAppearance="floating"
    tuiButtonGroup
    class="floating-button"
    [@tuiFadeIn]
>
    <button
    type="button"
    (click)="navigateToCreateReport()">
        <tui-icon icon="@tui.circle-plus"></tui-icon>
        Crea segnalazione
    </button>
</div>